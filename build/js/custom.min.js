!function(e){e(document).ready(function(){let o="";e("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",success:function(o){const t=o.shift();e(".entry-content").html(t.content.rendered),e(".entry-title").html(t.title.rendered),""!==t._qod_quote_source&&""!==t._qod_quote_source_url?e(".source").html(', <a href="'+t._qod_quote_source_url+'" target="_blank">'+t._qod_quote_source+"</a>"):""!==t._qod_quote_source&&""===t._qod_quote_source_url?e(".source").html(", "+t._qod_quote_source):e(".source").html(""),history.pushState(null,null,qod_vars.home_url+"/"+t.slug)}})}),e(window).on("popstate",function(){window.location.replace(o)}),e("#submit").on("click",function(o){o.preventDefault();const t={title:e("#quote-author").val(),content:e("#quote-content").val(),source:e("#quote-source").val(),source_url:e("#quote-source-url").val(),status:"publish"};e.ajax({type:"POST",url:qod_vars.rest_url+"wp/v2/posts",dataType:"json",data:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)},success:function(){console.log("success"),e("#quote-submission-form").slideUp(1500),e(".quote-submission-wrapper").append("<p>"+qod_vars.success+"</p>")},error:function(){console.log("failure"),e("#quote-submission-form").slideUp(1500),e(".quote-submission-wrapper").append("<p>"+qod_vars.failure+"</p>")}})})})}(jQuery);